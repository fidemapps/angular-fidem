/*! Angular fidem | Â© 2014 Fidem | License MIT */
!function(a,b,c){"use strict";var d={enableHighAccuracy:!0,timeout:3e3,maximumAge:3e4};b.module("fidem",[]).provider("fidem",function(){var a={endpoint:null,key:null};this.setApiEndpoint=function(b){return a.endpoint=b,this},this.setApiKey=function(b){return a.key=b,this};var c=this.interceptors=[];this.$get=["$http","$window","$q","$rootScope","$injector",function(e,f,g,h,i){function j(a){if(!f.navigator||!f.navigator.geolocation)return a.coordinates=null,a;var b=g.defer();return f.navigator.geolocation.getCurrentPosition(function(c){h.$apply(function(){a.coordinates={lat:c.coords.latitude,"long":c.coords.longitude},b.resolve(a)})},function(){h.$apply(function(){a.coordinates=null,b.resolve(a)})},d),b.promise}var k={};return k.log=function(d){var f=g.when(d),h=[].concat(c);return h.push(j),b.forEach(h,function(a){f=f.then(function(b){return a(b,i)})}),f.then(function(b){return e.post(a.endpoint+"/api/gamification/actions",b,{headers:{"X-Fidem-AccessApiKey":a.key}})})},k.createMember=function(b){return e.post(a.endpoint+"/api/members",b,{headers:{"X-Fidem-AccessApiKey":a.key}})},k.startSession=function(b){var c={};return b&&(c.member_id=b),e.post(a.endpoint+"/api/sessions",c,{headers:{"X-Fidem-AccessApiKey":a.key}})},k.assignMemberToSession=function(b,c){return e.put(a.endpoint+"/api/sessions/"+b+"/member/"+c,{},{headers:{"X-Fidem-AccessApiKey":a.key}})},k.getMemberProfile=function(b){return e.get(a.endpoint+"/api/members/"+b,{headers:{"X-Fidem-AccessApiKey":a.key}})},k.addLinkToMember=function(b,c){return e.post(a.endpoint+"/api/members/"+b+"/links",c,{headers:{"X-Fidem-AccessApiKey":a.key}})},k.linkMembers=function(b,c,d){return e.put(a.endpoint+"/api/members/"+b+"/link/"+c,{link_reason:d},{headers:{"X-Fidem-AccessApiKey":a.key}})},k.getMenus=function(b){var c={};return b&&(c.member_id=b),e.get(a.endpoint+"/api/content/menus",{params:c,headers:{"X-Fidem-AccessApiKey":a.key}})},k.getPage=function(b,c){var d={};return c&&(d.member_id=c),e.get(a.endpoint+"/api/content/pages/"+b,{params:d,headers:{"X-Fidem-AccessApiKey":a.key}})},k.getNewsList=function(b,c){var d={};return c&&(d.member_id=c),e.get(a.endpoint+"/api/content/newslists/"+b,{params:d,headers:{"X-Fidem-AccessApiKey":a.key}})},k.getMemberChallenges=function(b){return e.get(a.endpoint+"/api/members/"+b+"/challenges",{headers:{"X-Fidem-AccessApiKey":a.key}})},k.getMemberChallengesDone=function(b){return e.get(a.endpoint+"/api/members/"+b+"/challenges/done",{headers:{"X-Fidem-AccessApiKey":a.key}})},k.getMemberChallengesTodo=function(b){return e.get(a.endpoint+"/api/members/"+b+"/challenges/todo",{headers:{"X-Fidem-AccessApiKey":a.key}})},k}]})}(window,window.angular);
//# sourceMappingURL=angular-fidem.min.js.map