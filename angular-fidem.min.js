/*! Angular fidem v0.1.0 | Â© 2014 Fidem | License MIT */
!function(a,b){"use strict";var c={enableHighAccuracy:!0,timeout:3e3,maximumAge:3e4};b.module("fidem",[]).provider("fidem",function(){var a={endpoint:null,key:null};this.setApiEndpoint=function(b){return a.endpoint=b,this},this.setApiKey=function(b){return a.key=b,this};var d=this.interceptors=[];this.$get=["$http","$window","$q","$rootScope","$injector",function(e,f,g,h,i){function j(a){if(!f.navigator||!f.navigator.geolocation)return a.coordinates=null,a;var b=g.defer();return f.navigator.geolocation.getCurrentPosition(function(c){h.$apply(function(){a.coordinates={lat:c.coords.latitude,"long":c.coords.longitude},b.resolve(a)})},function(){h.$apply(function(){a.coordinates=null,b.resolve(a)})},c),b.promise}var k={};return k.log=function(c){var f=g.when(c),h=[].concat(d);return h.push(j),b.forEach(h,function(a){f=f.then(function(b){return a(b,i)})}),f.then(function(b){return e.post(a.endpoint+"/api/gamification/actions",b,{headers:{"X-Fidem-AccessApiKey":a.key}})})},k.startSession=function(b){var c={};return b&&(c.member_id=b),e.post(a.endpoint+"/api/sessions",c,{headers:{"X-Fidem-AccessApiKey":a.key}})},k.assignMemberToSession=function(b,c){return e.put(a.endpoint+"/api/session/"+b+"/member/"+c,{},{headers:{"X-Fidem-AccessApiKey":a.key}})},k.getMemberProfile=function(b){return e.get(a.endpoint+"/api/member/"+b,{},{headers:{"X-Fidem-AccessApiKey":a.key}})},k.getMemberChallenges=function(b){return e.get(a.endpoint+"/api/member/"+b+"/challenges",{},{headers:{"X-Fidem-AccessApiKey":a.key}})},k}]})}(window,window.angular);
//# sourceMappingURL=angular-fidem.min.js.map